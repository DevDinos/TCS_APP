"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5448],{5448:(B,d,a)=>{a.r(d),a.d(d,{ForumPageModule:()=>O});var s=a(6728),p=a(6814),u=a(95),_=a(3554),g=a(3044),f=a(5861),t=a(6242),b=a(7945),h=a(3840),P=a(4281);const C=["dynamicContentContainer"],x=e=>["/responses",e];function k(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title",12),t._uU(3),t.qZA(),t._UZ(4,"ion-card-subtitle"),t.qZA(),t.TgZ(5,"ion-card-content",13),t._uU(6),t.qZA(),t.TgZ(7,"ion-button",14),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.toggleButtonState(r))}),t._uU(8," Like "),t._UZ(9,"ion-icon",15),t.qZA(),t.TgZ(10,"ion-button",16),t._uU(11,"Response(s)"),t.qZA(),t.TgZ(12,"ion-button",17),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.removePostFromLocalStorage(r.id))}),t._uU(13,"Delete"),t.qZA()()}if(2&e){const i=c.$implicit;t.xp6(3),t.Oqu(i.subject),t.xp6(3),t.hij(" ",i.content," "),t.xp6(1),t.ekj("default-likeButton",!i.likeButtonState)("clicked-likeButton",i.likeButtonState),t.xp6(3),t.Q6J("routerLink",t.VKq(7,x,i.id))}}function Z(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Make new post"),t.qZA()()(),t.TgZ(4,"ion-content",18)(5,"ion-item")(6,"ion-label",19),t._uU(7,"Subject"),t.qZA(),t.TgZ(8,"ion-input",20),t.NdJ("ngModelChange",function(n){t.CHM(i);const r=t.oxw();return t.KtG(r.newSubject=n)}),t.qZA()(),t.TgZ(9,"ion-item")(10,"ion-label",19),t._uU(11,"Content"),t.qZA(),t.TgZ(12,"ion-textarea",21),t.NdJ("ngModelChange",function(n){t.CHM(i);const r=t.oxw();return t.KtG(r.newContent=n)}),t.qZA()(),t.TgZ(13,"ion-button",22),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.cancel())}),t._uU(14,"Cancel"),t.qZA(),t.TgZ(15,"ion-button",23),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.submitPost(n.newSubject,n.newContent))}),t._uU(16,"Submit"),t.qZA(),t.TgZ(17,"ion-toast",24),t.NdJ("didDismiss",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.openToast())}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(1),t.Akn("--background: var(--ion-color-primary)"),t.xp6(7),t.Q6J("ngModel",i.newSubject),t.xp6(4),t.Q6J("autoGrow",!0)("ngModel",i.newContent),t.xp6(5),t.Q6J("isOpen",i.isToastOpen)("duration",5e3)}}const v=[{path:"",component:(()=>{var e;class c{constructor(o,n,r,l,m){this.modalController=o,this.renderer=n,this.alertController=r,this.ns=l,this.tabsPage=m,this.posts=[],this.postCount=0,this.newSubject="",this.newContent="",this.isToastOpen=!1,this.zoomFactor=1}ngOnInit(){this.tabsPage.revealTab(),this.postCount||this.loadPostCount(),this.loadPosts()}navigateTo(o){this.ns.navigateTo(o)}zoomIn(){this.zoomFactor+=.1,document.documentElement.style.setProperty("--zoom-factor",this.zoomFactor.toString())}zoomOut(){this.zoomFactor-=.1,document.documentElement.style.setProperty("--zoom-factor",this.zoomFactor.toString())}loadPostCount(){const o=localStorage.getItem("postCount");this.postCount=null!==o?+o:0}loadPosts(){const o=localStorage.getItem("posts");o&&(this.posts=JSON.parse(o))}cancel(){this.modalController.dismiss(null,"cancel")}incrementPostCount(){this.postCount++,localStorage.setItem("postCount",this.postCount.toString())}submitPost(o,n){""!==o.trim()&&""!==n.trim()?(this.incrementPostCount(),this.posts.unshift({id:this.postCount,subject:o,content:n,responses:[],likeButtonState:!1}),this.savePosts(),this.newSubject="",this.newContent="",this.modalController.dismiss(null,"cancel"),this.openToast()):this.presentAlert()}savePosts(){localStorage.setItem("posts",JSON.stringify(this.posts))}openToast(){this.isToastOpen=!0}removePostFromLocalStorage(o){this.removePostResponses(o),this.removePost(o)}removePost(o){const n=localStorage.getItem("posts");if(null!==n){const r=JSON.parse(n),l=r.findIndex(m=>m.id===o);-1!==l&&(r.splice(l,1),localStorage.setItem("posts",JSON.stringify(r)),this.posts=r)}}removePostResponses(o){const n=`responses_${o}`;null!==localStorage.getItem(n)&&localStorage.setItem(n,JSON.stringify([]))}toggleButtonState(o){o.likeButtonState=!o.likeButtonState,this.savePosts()}presentAlert(){var o=this;return(0,f.Z)(function*(){yield(yield o.alertController.create({header:"Missing subject and/or text.",subHeader:"",message:"",buttons:["Try again"]})).present()})()}}return(e=c).\u0275fac=function(o){return new(o||e)(t.Y36(s.IN),t.Y36(t.Qsj),t.Y36(s.Br),t.Y36(b.f),t.Y36(h.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-Forum"]],viewQuery:function(o,n){if(1&o&&t.Gf(C,7,t.SBq),2&o){let r;t.iGM(r=t.CRH())&&(n.dynamicContentContainer=r.first)}},decls:22,vars:4,consts:[[3,"fullscreen"],["id","backButton",3,"click"],["name","arrow-back-outline"],["show-clear-button","never"],["id","newPostButton","size","large"],[4,"ngFor","ngForOf"],["slot","fixed","horizontal","end","vertical","bottom"],[1,"zoomButton",3,"click"],["name","add",1,"zoomIcon"],["name","remove-outline",1,"zoomIcon"],["trigger","newPostButton"],["name","Forum page"],[1,"postTitle"],[1,"postContent"],["fill","solid",1,"cardButton","likeButton",3,"click"],["slot","end","name","thumbs-up-outline"],["fill","solid",1,"cardButton","responseButton",3,"routerLink"],["fill","solid",1,"cardButton","deleteButton",3,"click"],[1,"ion-padding"],["position","stacked"],["type","text","placeholder","What is the subject",3,"ngModel","ngModelChange"],["type","text","placeholder","What is on your mind",3,"autoGrow","ngModel","ngModelChange"],["id","cancelButton",3,"click"],["id","submitOpenToast",3,"click"],["message","Your post has been submitted!",3,"isOpen","duration","didDismiss"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3," Forum Page "),t.qZA()()(),t.TgZ(4,"ion-content",0)(5,"ion-button",1),t.NdJ("click",function(){return n.navigateTo("HomePage")}),t._UZ(6,"ion-icon",2),t.TgZ(7,"ion-label"),t._uU(8,"Back"),t.qZA()(),t._UZ(9,"ion-searchbar",3),t.TgZ(10,"ion-button",4)(11,"ion-label"),t._uU(12,"Make new post"),t.qZA()(),t.YNc(13,k,14,9,"ion-card",5),t.TgZ(14,"ion-fab",6)(15,"ion-fab-button",7),t.NdJ("click",function(){return n.zoomIn()}),t._UZ(16,"ion-icon",8),t.qZA(),t.TgZ(17,"ion-fab-button",7),t.NdJ("click",function(){return n.zoomOut()}),t._UZ(18,"ion-icon",9),t.qZA()(),t.TgZ(19,"ion-modal",10),t.YNc(20,Z,18,7,"ng-template"),t.qZA(),t._UZ(21,"app-explore-container",11),t.qZA()),2&o&&(t.xp6(1),t.Akn("--background: var(--ion-color-primary)"),t.xp6(3),t.Q6J("fullscreen",!0),t.xp6(9),t.Q6J("ngForOf",n.posts))},dependencies:[s.YG,s.PM,s.FN,s.Zi,s.tO,s.Dq,s.W2,s.IJ,s.W4,s.Gu,s.gu,s.pK,s.Ie,s.Q$,s.VI,s.g2,s.wd,s.Px,s.sr,s.ki,s.j9,s.YI,p.sg,u.JJ,u.On,P.Z,g.rH],styles:["div[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:40px}#cancelButton[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}#submitOpenToast[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:20px}.likeButton[_ngcontent-%COMP%]{margin-right:12px;margin-left:12px;margin-bottom:20px;--background: #febd79}.likeButton.clicked[_ngcontent-%COMP%]{--background: #ff6b65}.responseButton[_ngcontent-%COMP%]{margin-right:12px;margin-left:12px;margin-bottom:20px}.deleteButton[_ngcontent-%COMP%]{--background: rgb(211, 211, 211) !important;--border-width: 0px !important}.cardButton[_ngcontent-%COMP%]{--background: #febd79;--border-style: solid;--border-width: 2px;--border-color: #fd800b;color:#000;margin-left:12px;margin-bottom:20px;--background-activated: #e49f55}#newPostButton[_ngcontent-%COMP%]{width:380px;margin:10px auto auto;display:flex;flex-direction:column;justify-content:center;--background: #febd79;--border-style: solid;--border-width: 2px;--border-color: #fd800b;color:#000;--background-activated: #e49f55}ion-textarea[_ngcontent-%COMP%]{--max-length: 100px}.clicked-likeButton[_ngcontent-%COMP%]{--background: #c4fa94;--border-color: #87b361}.submittedToast[_ngcontent-%COMP%]{--text-align: center}.postTitle[_ngcontent-%COMP%]{font-size:calc(var(--h1-font-size) * var(--zoom-factor))!important}.postContent[_ngcontent-%COMP%]{font-size:calc(var(--h2-font-size) * var(--zoom-factor))!important}ion-searchbar[_ngcontent-%COMP%]   input.searchbar-input[_ngcontent-%COMP%]{font-size:calc(var(--content-font-size) * var(--zoom-factor))!important}.zoomButton[_ngcontent-%COMP%]{--border-style: solid;--border-width: 2px;--border-color: #d9443e;--background: #ff6b65;--background-activated: #c73934}.zoomIcon[_ngcontent-%COMP%]{color:#fff}ion-label[_ngcontent-%COMP%]{font-size:var(--h3-font-size)}#backButton[_ngcontent-%COMP%]{margin-top:15px}"]}),c})()},{path:"responses",component:a(3326).p}];let F=(()=>{var e;class c{}return(e=c).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(v),g.Bz]}),c})(),O=(()=>{var e;class c{}return(e=c).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Pc,p.ez,u.u5,_.e,F]}),c})()}}]);