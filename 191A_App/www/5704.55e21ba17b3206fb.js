"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5704],{5704:(G,g,l)=>{l.r(g),l.d(g,{ForumPageModule:()=>y});var i=l(2112),p=l(1368),m=l(4716),d=l(4692),u=l(7632),C=l(1528),t=l(4496),_=l(3892);const f=["dynamicContentContainer"],h=n=>["/responses",n];function b(n,c){if(1&n){const s=t.KQA();t.I0R(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.OEk(3),t.C$Y(),t.wR5(4,"ion-card-subtitle"),t.C$Y(),t.I0R(5,"ion-card-content",12),t.OEk(6),t.C$Y(),t.I0R(7,"ion-button",13),t.qCj("click",function(){const r=t.usT(s).$implicit,a=t.GaO();return t.CGJ(a.toggleButtonState(r))}),t.OEk(8," Like "),t.wR5(9,"ion-icon",14),t.C$Y(),t.I0R(10,"ion-button",15),t.OEk(11,"See responses"),t.C$Y(),t.I0R(12,"ion-button",16),t.qCj("click",function(){const r=t.usT(s).$implicit,a=t.GaO();return t.CGJ(a.removePostFromLocalStorage(r.id))}),t.OEk(13,"Delete"),t.C$Y()()}if(2&n){const s=c.$implicit;t.yG2(3),t.cNF(s.subject),t.yG2(3),t.oRS(" ",s.content," "),t.yG2(),t.eAK("default-likeButton",!s.likeButtonState)("clicked-likeButton",s.likeButtonState),t.yG2(3),t.E7m("routerLink",t.S45(7,h,s.id))}}function P(n,c){if(1&n){const s=t.KQA();t.I0R(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.OEk(3,"Make new post"),t.C$Y()()(),t.I0R(4,"ion-content",17)(5,"ion-item")(6,"ion-label",18),t.OEk(7,"Subject"),t.C$Y(),t.I0R(8,"ion-input",19),t.iHE("ngModelChange",function(o){t.usT(s);const r=t.GaO();return t.kNx(r.newSubject,o)||(r.newSubject=o),t.CGJ(o)}),t.C$Y()(),t.I0R(9,"ion-item")(10,"ion-label",18),t.OEk(11,"Content"),t.C$Y(),t.I0R(12,"ion-textarea",20),t.iHE("ngModelChange",function(o){t.usT(s);const r=t.GaO();return t.kNx(r.newContent,o)||(r.newContent=o),t.CGJ(o)}),t.C$Y()(),t.I0R(13,"ion-button",21),t.qCj("click",function(){t.usT(s);const o=t.GaO();return t.CGJ(o.cancel())}),t.OEk(14,"Cancel"),t.C$Y(),t.I0R(15,"ion-button",22),t.qCj("click",function(){t.usT(s);const o=t.GaO();return t.CGJ(o.submitPost(o.newSubject,o.newContent))}),t.OEk(16,"Submit"),t.C$Y(),t.I0R(17,"ion-toast",23),t.qCj("didDismiss",function(){t.usT(s);const o=t.GaO();return t.CGJ(o.openToast())}),t.C$Y()()}if(2&n){const s=t.GaO();t.yG2(8),t.OKB("ngModel",s.newSubject),t.yG2(4),t.E7m("autoGrow",!0),t.OKB("ngModel",s.newContent),t.yG2(5),t.E7m("isOpen",s.isToastOpen)("duration",5e3)}}const O=[{path:"",component:(()=>{var n;class c{constructor(e,o,r,a){this.router=e,this.modalController=o,this.renderer=r,this.alertController=a,this.posts=[],this.postCount=0,this.newSubject="",this.newContent="",this.isToastOpen=!1}ngOnInit(){this.postCount||this.loadPostCount(),this.loadPosts()}navigateBack(){this.router.navigate(["/tabs/HomePage"])}increaseFontSize(){document.querySelectorAll(".resizeable")}loadPostCount(){const e=localStorage.getItem("postCount");this.postCount=null!==e?+e:0}loadPosts(){const e=localStorage.getItem("posts");e&&(this.posts=JSON.parse(e))}cancel(){this.modalController.dismiss(null,"cancel")}incrementPostCount(){this.postCount++,localStorage.setItem("postCount",this.postCount.toString())}submitPost(e,o){""!==e.trim()&&""!==o.trim()?(this.incrementPostCount(),this.posts.unshift({id:this.postCount,subject:e,content:o,responses:[],likeButtonState:!1}),this.savePosts(),this.newSubject="",this.newContent="",this.modalController.dismiss(null,"cancel"),this.openToast()):this.presentAlert()}savePosts(){localStorage.setItem("posts",JSON.stringify(this.posts))}openToast(){this.isToastOpen=!0}removePostFromLocalStorage(e){this.removePostResponses(e),this.removePost(e)}removePost(e){const o=localStorage.getItem("posts");if(null!==o){const r=JSON.parse(o),a=r.findIndex(F=>F.id===e);-1!==a&&(r.splice(a,1),localStorage.setItem("posts",JSON.stringify(r)),this.posts=r)}}removePostResponses(e){const o=`responses_${e}`;null!==localStorage.getItem(o)&&localStorage.setItem(o,JSON.stringify([]))}toggleButtonState(e){e.likeButtonState=!e.likeButtonState,this.savePosts()}presentAlert(){var e=this;return(0,C.c)(function*(){yield(yield e.alertController.create({header:"Missing subject and/or text.",subHeader:"",message:"",buttons:["Try again"]})).present()})()}}return(n=c).\u0275fac=function(e){return new(e||n)(t.GI1(u.E5),t.GI1(i.qS),t.GI1(t.q87),t.GI1(i.iW))},n.\u0275cmp=t.In1({type:n,selectors:[["app-Forum"]],viewQuery:function(e,o){if(1&e&&t.CC$(f,7,t.GMv),2&e){let r;t.wto(r=t.Gqi())&&(o.dynamicContentContainer=r.first)}},decls:18,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],[3,"click"],["name","arrow-back-outline"],["show-clear-button","never"],["id","newPostButton","size","large"],[4,"ngFor","ngForOf"],["slot","fixed","horizontal","end","vertical","bottom"],["color","secondary",3,"click"],["name","add"],["trigger","newPostButton"],["name","Forum page"],[1,"resizeable"],["fill","solid",1,"likeButton",3,"click"],["slot","end","name","thumbs-up-outline"],["fill","solid","color","primary",1,"responseButton",3,"routerLink"],["fill","solid",1,"deleteButton",3,"click"],[1,"ion-padding"],["position","stacked"],["type","text","placeholder","What is the subject",3,"ngModel","ngModelChange"],["type","text","placeholder","What is on your mind",3,"autoGrow","ngModel","ngModelChange"],["id","cancelButton",3,"click"],["id","submitOpenToast",3,"click"],["message","Your post has been submitted!",3,"isOpen","duration","didDismiss"]],template:function(e,o){1&e&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.OEk(3," Forum Page "),t.C$Y()()(),t.I0R(4,"ion-content",1)(5,"ion-button",2),t.qCj("click",function(){return o.navigateBack()}),t.wR5(6,"ion-icon",3),t.OEk(7," Back "),t.C$Y(),t.wR5(8,"ion-searchbar",4),t.I0R(9,"ion-button",5),t.OEk(10,"Make new post"),t.C$Y(),t.yuY(11,b,14,9,"ion-card",6),t.I0R(12,"ion-fab",7)(13,"ion-fab-button",8),t.qCj("click",function(){return o.increaseFontSize()}),t.wR5(14,"ion-icon",9),t.C$Y()(),t.I0R(15,"ion-modal",10),t.yuY(16,P,18,5,"ng-template"),t.C$Y(),t.wR5(17,"app-explore-container",11),t.C$Y()),2&e&&(t.E7m("translucent",!0),t.yG2(4),t.E7m("fullscreen",!0),t.yG2(7),t.E7m("ngForOf",o.posts))},dependencies:[i.sn,i.KC,i.Gg,i.YY,i.MN,i.I7,i._i,i.q8,i.Wq,i.wB,i.Ko,i.A5,i.Yb,i.QR,i.KQ,i.gP,i.tM,i.BE,i.Md,i.yc,i.qG,i.mY,p.ay,m.ue,m._G,_.G,u.ER],styles:["ion-toolbar[_ngcontent-%COMP%]{--background-color: #ff6b65;--height: 60px}ion-title[_ngcontent-%COMP%]{font-size:35px}#cancelButton[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}#submitOpenToast[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:20px}.likeButton[_ngcontent-%COMP%]{margin-right:12px;margin-left:12px;margin-bottom:20px;--border-radius: 30px;--background: #febd79}.likeButton.clicked[_ngcontent-%COMP%]{--background: #ff6b65}.responseButton[_ngcontent-%COMP%]{margin-right:12px;margin-left:12px;margin-bottom:20px;--border-radius: 30px}.deleteButton[_ngcontent-%COMP%]{margin-right:12px;margin-left:12px;margin-bottom:20px;--border-radius: 30px;--background: rgb(64, 64, 64)}#newPostButton[_ngcontent-%COMP%]{margin:10px 10% 0%;--border-radius: 30px;display:flex;flex-direction:column;justify-content:center;align-self:center}ion-textarea[_ngcontent-%COMP%]{--max-length: 100px}.clicked-likeButton[_ngcontent-%COMP%]{--background: #ff6b65}ion-toast[_ngcontent-%COMP%]{--text-align: center}"]}),c})()},{path:"responses",component:l(5652).U}];let S=(()=>{var n;class c{}return(n=c).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[u.qQ.forChild(O),u.qQ]}),c})(),y=(()=>{var n;class c{}return(n=c).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[i.wZ,p.MD,m.y,d.C,S]}),c})()}}]);